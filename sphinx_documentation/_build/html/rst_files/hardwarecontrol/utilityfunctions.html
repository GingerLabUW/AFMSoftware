

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>UtilityFunctions.ipf &mdash; AFM Igor Code  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="trEFMInit.ipf" href="../panelsetup/trefminit.html" />
    <link rel="prev" title="GMode_Triggers.ipf" href="gmode_triggers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> AFM Igor Code
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guides:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userguides/trefm_fftrefm_guide.html">trEFM and FF-trEFM Experimental Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguides/trefm_setup_guide.html">trEFM Igor Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguides/panels_guide.html">Panel Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Calibration:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../calibration/voltagescan.html">VoltageScan.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calibration/calcurve.html">CalCurve.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calibration/forcecalibration.html">ForceCalibration.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calibration/eleccal.html">ElecCal.ipf</a></li>
</ul>
<p class="caption"><span class="caption-text">Nonlocal Photocurrent:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nlpc/nlpc_panel.html">NLPC_Panel.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlpc/nplc_scan.html">NPLC_Scan.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlpc/nplc_utils.html">NPLC_Utils.ipf</a></li>
</ul>
<p class="caption"><span class="caption-text">Imaging:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../imaging/gmodeimaging.html">GModeImaging.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imaging/imagescan.html">ImageScan.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imaging/skpm.html">SKPM.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imaging/skpmgainspanel.html">SKPMGainsPanel.ipf</a></li>
</ul>
<p class="caption"><span class="caption-text">Point Scan:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pointscan/gmodepointscan.html">GmodePointScan.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pointscan/pointscan.html">PointScan.ipf</a></li>
</ul>
<p class="caption"><span class="caption-text">Photoluminescence</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pl/pl.html">PL.ipf</a></li>
</ul>
<p class="caption"><span class="caption-text">Misc.</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/useranalysis.html">UserAnalysis.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/redoanalysis.html">ReDoAnalysis.ipf</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware Control:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="drivewaveeditor.html">DriveWaveEditor.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="wavegenerator.html">WaveGenerator.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpib.html">GPIB.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="triggerboxserial.html">TriggerBoxSerial.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="shuttercontrolandpanel.html">ShutterControlAndPanel.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="gmode_triggers.html">GMode_Triggers.ipf</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">UtilityFunctions.ipf</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#resetall">ResetAll</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setcrosspoint">SetCrossPoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#setpassfilter">SetPassFilter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#setfeedbackloop">SetFeedbackLoop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#return">Return</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#setfeedbackloopcypher">SetFeedbackLoopCypher</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Return</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#stopfeedbackloop">StopFeedbackLoop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Return</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#stopfeedbackloopcypher">StopFeedbackLoopCypher</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Return</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#readposition">ReadPosition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#movexyz">MoveXYZ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#movexy">MoveXY</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#checkinwavetiming">CheckInWaveTiming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lightonoff">LightOnOff</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wavegenerator">wavegenerator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wavegeneratoroffset">wavegeneratoroffset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Panel Setup:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../panelsetup/trefminit.html">trEFMInit.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../panelsetup/trefmpanel.html">trEFMPanel.ipf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../panelsetup/transferfuncpanel.html">transferfuncpanel.ipf</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AFM Igor Code</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>UtilityFunctions.ipf</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/rst_files/hardwarecontrol/utilityfunctions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="utilityfunctions-ipf">
<h1>UtilityFunctions.ipf<a class="headerlink" href="#utilityfunctions-ipf" title="Permalink to this headline">¶</a></h1>
<div class="section" id="resetall">
<h2>ResetAll<a class="headerlink" href="#resetall" title="Permalink to this headline">¶</a></h2>
<p>This function stops any feedback loops, wave banks, and resets all outputs to ground.</p>
</div>
<div class="section" id="setcrosspoint">
<h2>SetCrossPoint<a class="headerlink" href="#setcrosspoint" title="Permalink to this headline">¶</a></h2>
<p>Function takes the required input settings and writes the appropriate string and wave. Then it uses the Asylum functions to write them to the crosspoint switch. Typical outputs: OutC = trigger, OutA = light, OutB = voltage. Note that if you connect the trigger to the output you should connect the light straight to ARC.</p>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>InA: string</dt><dd><p>description</p>
</dd>
<dt>InB: string</dt><dd><p>description</p>
</dd>
<dt>InFast: string</dt><dd><p>description</p>
</dd>
<dt>InAOffset: string</dt><dd><p>description</p>
</dd>
<dt>InBOffset: string</dt><dd><p>description</p>
</dd>
<dt>InFastOffset: string</dt><dd><p>description</p>
</dd>
<dt>OutXMod: string</dt><dd><p>description</p>
</dd>
<dt>OutYMod: string</dt><dd><p>description</p>
</dd>
<dt>OutZMod: string</dt><dd><p>description</p>
</dd>
<dt>FilterIn: string</dt><dd><p>description</p>
</dd>
<dt>BNCOut0: string</dt><dd><p>description</p>
</dd>
<dt>BNCOut1: string</dt><dd><p>description</p>
</dd>
<dt>BNCOut2: string</dt><dd><p>description</p>
</dd>
<dt>PogoOut: string</dt><dd><p>description</p>
</dd>
<dt>Chip: string</dt><dd><p>description</p>
</dd>
<dt>Shake: string</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="setpassfilter">
<h2>SetPassFilter<a class="headerlink" href="#setpassfilter" title="Permalink to this headline">¶</a></h2>
<p>Function sets the pass filter cutoff frequency on the input LPF to Asylum’s ADC
The SetorReset parameter is 0 or 1, SetorReset==0 ignores ALL optional parms and resets to the globally stored values
SetorReset==1 will set the Pass Filter for all optional parameters and leave unnamed channels alone
EX: glSetPassFilter(0)  - will reset all pass filters to their stored values
glSetPassFilter(1,a=2000,i=20000) - will set the a%PassFilter and i%PassFilter to the specified values and leave all other filters alone.</p>
<div class="section" id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>SetorReset: variable</dt><dd><p>description</p>
</dd>
<dt>x: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>y: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>z: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>a: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>b: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>fast: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>i: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>i1: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>q: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
<dt>q1: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="setfeedbackloop">
<h2>SetFeedbackLoop<a class="headerlink" href="#setfeedbackloop" title="Permalink to this headline">¶</a></h2>
<p>Sets up a PIDS feedback loop. This function will set changeWhat to the setpoint by adjusting the value of maintainWhat. The user also must select the gain settings to be used by the PID.</p>
<div class="section" id="id2">
<h3>Parameters<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>whichLoop: variable</dt><dd><p>description</p>
</dd>
<dt>startWhen: string</dt><dd><p>description</p>
</dd>
<dt>maintainWhat: string</dt><dd><p>description</p>
</dd>
<dt>setpoint: variable</dt><dd><p>description</p>
</dd>
<dt>pgain: variable</dt><dd><p>description</p>
</dd>
<dt>igain: variable</dt><dd><p>description</p>
</dd>
<dt>sgain: variable</dt><dd><p>description</p>
</dd>
<dt>changeWhat: string</dt><dd><p>description</p>
</dd>
<dt>dgain: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
<div class="section" id="return">
<h3>Return<a class="headerlink" href="#return" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>error</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="setfeedbackloopcypher">
<h2>SetFeedbackLoopCypher<a class="headerlink" href="#setfeedbackloopcypher" title="Permalink to this headline">¶</a></h2>
<p>Sets up a PIDS feedback loop. This function will set changeWhat to the setpoint by adjusting the value of maintainWhat. The user also must select the gain settings to be used by the PID.</p>
<div class="section" id="id3">
<h3>Parameters<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>whichLoop: variable</dt><dd><p>description</p>
</dd>
<dt>startWhen: string</dt><dd><p>description</p>
</dd>
<dt>maintainWhat: string</dt><dd><p>description</p>
</dd>
<dt>setpoint: variable</dt><dd><p>description</p>
</dd>
<dt>pgain: variable</dt><dd><p>description</p>
</dd>
<dt>igain: variable</dt><dd><p>description</p>
</dd>
<dt>sgain: variable</dt><dd><p>description</p>
</dd>
<dt>changeWhat: string</dt><dd><p>description</p>
</dd>
<dt>dgain: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
<div class="section" id="id4">
<h3>Return<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>error</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="stopfeedbackloop">
<h2>StopFeedbackLoop<a class="headerlink" href="#stopfeedbackloop" title="Permalink to this headline">¶</a></h2>
<p>Given an integer number corresponding to one of the 5 feedback loops, this function stops the specified feedback loop.</p>
<div class="section" id="id5">
<h3>Parameters<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>whichLoop: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
<div class="section" id="id6">
<h3>Return<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>error</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="stopfeedbackloopcypher">
<h2>StopFeedbackLoopCypher<a class="headerlink" href="#stopfeedbackloopcypher" title="Permalink to this headline">¶</a></h2>
<p>Given an integer number corresponding to one of the 5 feedback loops, this function stops the specified feedback loop.</p>
<div class="section" id="id7">
<h3>Parameters<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>whichLoop: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
<div class="section" id="id8">
<h3>Return<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>error</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="readposition">
<h2>ReadPosition<a class="headerlink" href="#readposition" title="Permalink to this headline">¶</a></h2>
<p>Prints the current X, Y, and Z position to the console</p>
</div>
<div class="section" id="movexyz">
<h2>MoveXYZ<a class="headerlink" href="#movexyz" title="Permalink to this headline">¶</a></h2>
<p>a function that moves the xy stage to the desired position (given in microns)</p>
<div class="section" id="id9">
<h3>Parameters<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Xposition: variable</dt><dd><p>description</p>
</dd>
<dt>Yposition: variable</dt><dd><p>description</p>
</dd>
<dt>Zposition: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="movexy">
<h2>MoveXY<a class="headerlink" href="#movexy" title="Permalink to this headline">¶</a></h2>
<p>Moves to the X,Y position while keeping the tip withdrawn away from the surface.</p>
<div class="section" id="id10">
<h3>Parameters<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>xpos: variable</dt><dd><p>description</p>
</dd>
<dt>ypos: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="checkinwavetiming">
<h2>CheckInWaveTiming<a class="headerlink" href="#checkinwavetiming" title="Permalink to this headline">¶</a></h2>
<p>this function checks a specifiec data point in the named inWave and continues to run until that data point has a value. It is used to ensure that the function calling it runs until all required data has been collected. If whichDataPoint is specified then the function checks that, otherwise it checks the last data point
NOTES: This fxn assumes the passed wave is currently set to NaN, whichDataPoint is the integer index to the data point you want to key on</p>
<div class="section" id="id11">
<h3>Parameters<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>whichWave: wave</dt><dd><p>description</p>
</dd>
<dt>whichDataPoint: variable <em>(optional)</em></dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="lightonoff">
<h2>LightOnOff<a class="headerlink" href="#lightonoff" title="Permalink to this headline">¶</a></h2>
<p>turns the LED on or off (1 or 0).</p>
<div class="section" id="id12">
<h3>Parameters<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>onoff: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="wavegenerator">
<h2>wavegenerator<a class="headerlink" href="#wavegenerator" title="Permalink to this headline">¶</a></h2>
<p>function description</p>
<div class="section" id="id13">
<h3>Parameters<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>amplitude: variable</dt><dd><p>description</p>
</dd>
<dt>frequency: variable</dt><dd><p>description</p>
</dd>
<dt>outputletter: string</dt><dd><p>description</p>
</dd>
<dt>event: string</dt><dd><p>description</p>
</dd>
<dt>bank: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="wavegeneratoroffset">
<h2>wavegeneratoroffset<a class="headerlink" href="#wavegeneratoroffset" title="Permalink to this headline">¶</a></h2>
<p>function description</p>
<div class="section" id="id14">
<h3>Parameters<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>amplitude: variable</dt><dd><p>description</p>
</dd>
<dt>frequency: variable</dt><dd><p>description</p>
</dd>
<dt>outputletter: string</dt><dd><p>description</p>
</dd>
<dt>event: string</dt><dd><p>description</p>
</dd>
<dt>bank: variable</dt><dd><p>description</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../panelsetup/trefminit.html" class="btn btn-neutral float-right" title="trEFMInit.ipf" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gmode_triggers.html" class="btn btn-neutral float-left" title="GMode_Triggers.ipf" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Ginger Lab

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>